<!--
Menu Section (FAB(new) & SEARCH(input))
 -->
<div>
  <div class="col-1-2 inlinediv">
    <material-fab
      mini raised
      id="heavyfab"
      (trigger)="onAddButton($event)">
      <material-icon icon="add"></material-icon>
    </material-fab>
    <h2 style="display: inherit; margin:8px;">{{getSectionTitle(true)}}</h2>
  </div>
    <div class="col-1-2 inlinediv floatright">
    <material-input placeholder="Search"
           (input)="updateSearchText($event.target.value)"
           (keyup.enter)="onSearch($event)" ></material-input>
    <material-button id="search"
            (click)="onSearch($event)"
            aria-label="Search" >Search</material-button>
  </div>
</div>
<!--
Item Section (from _currentSection)
[expanded]="(selected == null) ? false : selected.id == item.id"
 -->
<material-expansionpanel-set focusList>
    <material-expansionpanel *ngFor="let item of listItems"
                              wide
                              name="{{item.name}}: {{item.id}}"
                              #itemPanel
                              (expandedChange)="changeHandler($event, item)"
                              [disabled]="mode == 'add'"
                              (save)="onSave($event)"
                              (cancel)="onCancel($event)"
                              [expanded]="selected?.id == item.id"
                              [closeOnSave]="false">
        <div *ngIf="itemPanel.isExpanded" style="padding: 8px;">
        <template #itemContainer></template>
        </div>
    </material-expansionpanel>
</material-expansionpanel-set>
<!--
Cancel Confirm/Deny
 -->
<modal [visible]="cancelModalVisible">
  <material-dialog class="max-height-dialog" autofocus >
    <h1 header>Cancel?</h1>
    <p>
      Are you sure you want to cancel {{selected?.name}}?
    </p>
    <div footer>
      <material-button
        (trigger)="onConfirmCancel(true)" >
        Yes, Cancel
      </material-button>
      <material-button autoFocus
        (trigger)="onConfirmCancel(false)" >
        Go Back
      </material-button>
    </div>
  </material-dialog>
</modal>
